# ç‹¼äººæ€æ™ºèƒ½ä½“åšå¼ˆå¯è§†åŒ–å¹³å° - Vue ç‰ˆæœ¬

è¿™æ˜¯å¯¹åŸ Flask å¯è§†åŒ–å¹³å°çš„å®Œæ•´ Vue.js é‡å†™ç‰ˆæœ¬ï¼Œå¿ å®åœ°å¤åˆ¶äº†åŸå§‹åŠŸèƒ½å’ŒAPIè®¾è®¡ã€‚

## ğŸ¯ ç‰¹æ€§

- **å®Œå…¨åŒ¹é…åŸ Flask API**: æ‰€æœ‰ API ç«¯ç‚¹éƒ½ä¸åŸç‰ˆæœ¬ä¿æŒä¸€è‡´
- **ç°ä»£åŒ– Vue 3 æ¶æ„**: ä½¿ç”¨ Composition API å’Œ Pinia çŠ¶æ€ç®¡ç†
- **å“åº”å¼è®¾è®¡**: æ”¯æŒå„ç§å±å¹•å°ºå¯¸çš„è®¾å¤‡
- **ç»„ä»¶åŒ–å¼€å‘**: å¯å¤ç”¨çš„ç»„ä»¶ç³»ç»Ÿ
- **TypeScript æ”¯æŒ**: ç±»å‹å®‰å…¨çš„å¼€å‘ä½“éªŒ

## ğŸ“ é¡¹ç›®ç»“æ„

```
visualization-vue/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/           # API è°ƒç”¨å±‚ï¼Œå¿ å®å¤åˆ¶ Flask è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ index.js   # Axios é…ç½®å’Œæ‹¦æˆªå™¨
â”‚   â”‚   â”œâ”€â”€ game.js    # æ¸¸æˆç›¸å…³ API (å¯¹åº” Flask çš„æ¸¸æˆè·¯ç”±)
â”‚   â”‚   â””â”€â”€ learning.js # å­¦ä¹ é“¾ç›¸å…³ API
â”‚   â”œâ”€â”€ components/    # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ GameSummaryV2.vue  # æ¸¸æˆæ¦‚è§ˆç»„ä»¶
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ stores/        # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ game.js    # æ¸¸æˆçŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ learning.js # å­¦ä¹ æ•°æ®çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ views/         # é¡µé¢è§†å›¾
â”‚   â”‚   â”œâ”€â”€ Home.vue           # ä¸»é¡µ (å¯¹åº” Flask çš„ index.html)
â”‚   â”‚   â”œâ”€â”€ GameDetail.vue     # æ¸¸æˆè¯¦æƒ…é¡µ
â”‚   â”‚   â”œâ”€â”€ LearningChain.vue  # å­¦ä¹ é“¾é¡µé¢ (å¯¹åº” Flask çš„ learning_chain.html)
â”‚   â”‚   â””â”€â”€ Documentation.vue  # æ–‡æ¡£é¡µé¢
â”‚   â”œâ”€â”€ router/        # Vue Router é…ç½®
â”‚   â”œâ”€â”€ App.vue        # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.js        # åº”ç”¨å…¥å£
â”œâ”€â”€ package.json       # ä¾èµ–é…ç½®
â”œâ”€â”€ vite.config.js     # Vite æ„å»ºé…ç½®
â””â”€â”€ index.html         # HTML æ¨¡æ¿
```

## ğŸ”— API æ˜ å°„

Vue ç‰ˆæœ¬çš„ API è°ƒç”¨å®Œå…¨åŒ¹é…åŸ Flask åº”ç”¨çš„è·¯ç”±ï¼š

### æ¸¸æˆç›¸å…³ API

- `GET /api/logs` â†’ `gameApi.getGameList()` - è·å–æ¸¸æˆæ—¥å¿—åˆ—è¡¨
- `GET /api/load/<filename>` â†’ `gameApi.loadGame(filename)` - åŠ è½½ç‰¹å®šæ¸¸æˆ
- `GET /api/state` â†’ `gameApi.getGameState()` - è·å–å½“å‰æ¸¸æˆçŠ¶æ€
- `GET /api/overview` â†’ `gameApi.getGameOverview()` - è·å–æ¸¸æˆæ¦‚è§ˆ
- `GET /api/next` â†’ `gameApi.nextEvent()` - ç§»åŠ¨åˆ°ä¸‹ä¸€äº‹ä»¶
- `GET /api/prev` â†’ `gameApi.prevEvent()` - ç§»åŠ¨åˆ°ä¸Šä¸€äº‹ä»¶
- `GET /api/jump/<event_index>` â†’ `gameApi.jumpToEvent(eventIndex)` - è·³è½¬åˆ°ç‰¹å®šäº‹ä»¶
- `GET /api/reset` â†’ `gameApi.resetGame()` - é‡ç½®æ¸¸æˆçŠ¶æ€

### é™æ€ç«™ç‚¹ç”Ÿæˆ API

- `GET /api/games` â†’ `gameApi.getAllGames()` - è·å–æ‰€æœ‰æ¸¸æˆåˆ—è¡¨
- `GET /api/game/<game_id>` â†’ `gameApi.getGameData(gameId)` - è·å–ç‰¹å®šæ¸¸æˆæ•°æ®
- `GET /api/reviews` â†’ `gameApi.getReviews()` - è·å–æ‰€æœ‰å¤ç›˜æ•°æ®
- `GET /api/assets/<filename>` â†’ `gameApi.getAsset(filename)` - è·å–é™æ€èµ„æº

### å­¦ä¹ é“¾ç›¸å…³

- `/learning-chain/<role>` â†’ Vue è·¯ç”±å¤„ç† - è§’è‰²å­¦ä¹ é“¾é¡µé¢

## ğŸš€ å®‰è£…å’Œè¿è¡Œ

### å‰ææ¡ä»¶

- Node.js 16+
- npm æˆ– yarn

### å®‰è£…ä¾èµ–

```bash
cd visualization-vue
npm install
```

### å¼€å‘ç¯å¢ƒè¿è¡Œ

```bash
npm run dev
```

åº”ç”¨å°†åœ¨ `http://localhost:3000` å¯åŠ¨ï¼Œå¹¶è‡ªåŠ¨ä»£ç† API è¯·æ±‚åˆ°åç«¯çš„ `http://localhost:5000`ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

### é¢„è§ˆç”Ÿäº§æ„å»º

```bash
npm run preview
```

## âš™ï¸ é…ç½®

### å¼€å‘ç¯å¢ƒé…ç½®

åœ¨ `vite.config.js` ä¸­é…ç½®äº†å¼€å‘æœåŠ¡å™¨çš„ä»£ç†ï¼Œå°† `/api` è·¯å¾„çš„è¯·æ±‚è½¬å‘åˆ° Flask åç«¯ï¼š

```javascript
server: {
  port: 3000,
  proxy: {
    '/api': {
      target: 'http://localhost:5000',
      changeOrigin: true
    }
  }
}
```

### API åŸºç¡€é…ç½®

åœ¨ `src/api/index.js` ä¸­é…ç½®äº† Axios å®ä¾‹ï¼š

```javascript
const api = axios.create({
  baseURL: "/api",
  timeout: 30000,
  headers: {
    "Content-Type": "application/json",
  },
});
```

## ğŸ¨ æ ·å¼ç³»ç»Ÿ

- ä½¿ç”¨ Element Plus ç»„ä»¶åº“æä¾›ç»Ÿä¸€çš„ UI ç»„ä»¶
- ä¿æŒä¸åŸ Flask ç‰ˆæœ¬ç›¸åŒçš„è§†è§‰é£æ ¼å’Œå¸ƒå±€
- å“åº”å¼è®¾è®¡æ”¯æŒç§»åŠ¨è®¾å¤‡
- CSS å˜é‡å’Œè‡ªå®šä¹‰æ ·å¼è¦†ç›–

## ğŸ“± å“åº”å¼è®¾è®¡

æ‰€æœ‰ç»„ä»¶éƒ½ç»è¿‡å“åº”å¼è®¾è®¡ä¼˜åŒ–ï¼š

- æ¡Œé¢ç«¯: å®Œæ•´åŠŸèƒ½å¸ƒå±€
- å¹³æ¿ç«¯: é€‚é…çš„å¡ç‰‡å¸ƒå±€
- ç§»åŠ¨ç«¯: å‚ç›´å †å å¸ƒå±€

## ğŸ”„ çŠ¶æ€ç®¡ç†

ä½¿ç”¨ Pinia è¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼Œä¸»è¦åŒ…æ‹¬ï¼š

### GameStore (æ¸¸æˆçŠ¶æ€)

- `gameList`: æ¸¸æˆåˆ—è¡¨
- `currentGameFilename`: å½“å‰æ¸¸æˆæ–‡ä»¶å
- `gameOverview`: æ¸¸æˆæ¦‚è§ˆæ•°æ® (æ¥è‡ª Flask çš„ /api/overview)
- `gameState`: å½“å‰æ¸¸æˆçŠ¶æ€
- `loading`: åŠ è½½çŠ¶æ€
- `error`: é”™è¯¯ä¿¡æ¯

### LearningStore (å­¦ä¹ æ•°æ®çŠ¶æ€)

- `learningData`: è§’è‰²å­¦ä¹ æ•°æ®
- `currentRole`: å½“å‰è§’è‰²
- `loading`: åŠ è½½çŠ¶æ€
- `error`: é”™è¯¯ä¿¡æ¯

## ğŸ›  å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„ API ç«¯ç‚¹

1. åœ¨å¯¹åº”çš„ API æ–‡ä»¶ä¸­æ·»åŠ æ–°æ–¹æ³• (å¦‚ `src/api/game.js`)
2. åœ¨ç›¸åº”çš„ Store ä¸­æ·»åŠ è°ƒç”¨é€»è¾‘
3. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ Store æ–¹æ³•

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `src/views/` ä¸­åˆ›å»ºæ–°çš„ Vue ç»„ä»¶
2. åœ¨ `src/router/index.js` ä¸­æ·»åŠ è·¯ç”±é…ç½®
3. æ ¹æ®éœ€è¦åœ¨å¯¼èˆªä¸­æ·»åŠ é“¾æ¥

### ç»„ä»¶å¼€å‘è§„èŒƒ

- ä½¿ç”¨ Composition API è¯­æ³•
- åˆç†ä½¿ç”¨ Element Plus ç»„ä»¶
- ä¿æŒä¸åŸ Flask ç‰ˆæœ¬çš„åŠŸèƒ½ä¸€è‡´æ€§
- æ·»åŠ é€‚å½“çš„é”™è¯¯å¤„ç†å’ŒåŠ è½½çŠ¶æ€

## ğŸ” ä¸åŸç‰ˆæœ¬çš„å¯¹åº”å…³ç³»

| Flask æ¨¡æ¿                      | Vue ç»„ä»¶                  | åŠŸèƒ½                 |
| ------------------------------- | ------------------------- | -------------------- |
| `templates/index.html`          | `views/Home.vue`          | ä¸»é¡µï¼Œæ¸¸æˆåˆ—è¡¨å’Œé€‰æ‹© |
| `templates/learning_chain.html` | `views/LearningChain.vue` | è§’è‰²å­¦ä¹ é“¾å±•ç¤º       |
| N/A                             | `views/GameDetail.vue`    | æ¸¸æˆè¯¦ç»†åˆ†æé¡µé¢     |
| N/A                             | `views/Documentation.vue` | é¡¹ç›®æ–‡æ¡£é¡µé¢         |

| Flask è·¯ç”±               | Vue API æ–¹æ³•                | åŠŸèƒ½             |
| ------------------------ | --------------------------- | ---------------- |
| `/api/logs`              | `gameApi.getGameList()`     | è·å–æ¸¸æˆæ—¥å¿—åˆ—è¡¨ |
| `/api/load/<filename>`   | `gameApi.loadGame()`        | åŠ è½½æ¸¸æˆ         |
| `/api/overview`          | `gameApi.getGameOverview()` | è·å–æ¸¸æˆæ¦‚è§ˆ     |
| `/learning-chain/<role>` | Vue è·¯ç”± + API              | è§’è‰²å­¦ä¹ é“¾       |

## ğŸ› æ•…éšœæ’é™¤

### API ä»£ç†é—®é¢˜

å¦‚æœ API è¯·æ±‚å¤±è´¥ï¼Œæ£€æŸ¥ï¼š

1. Flask åç«¯æ˜¯å¦åœ¨ `http://localhost:5000` è¿è¡Œ
2. Vite ä»£ç†é…ç½®æ˜¯å¦æ­£ç¡®
3. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

### æ ·å¼é—®é¢˜

å¦‚æœæ ·å¼æ˜¾ç¤ºå¼‚å¸¸ï¼š

1. ç¡®è®¤ Element Plus æ ·å¼å·²æ­£ç¡®å¯¼å…¥
2. æ£€æŸ¥ CSS ä½œç”¨åŸŸå’Œä¼˜å…ˆçº§
3. éªŒè¯å“åº”å¼æ–­ç‚¹é…ç½®

### è·¯ç”±é—®é¢˜

å¦‚æœé¡µé¢è·¯ç”±ä¸å·¥ä½œï¼š

1. æ£€æŸ¥è·¯ç”±é…ç½®æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤ç»„ä»¶å¯¼å…¥è·¯å¾„
3. éªŒè¯è·¯ç”±å‚æ•°ä¼ é€’

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ç»§æ‰¿åŸé¡¹ç›®çš„è®¸å¯è¯ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issues å’Œ Pull Requests æ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼
